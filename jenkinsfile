pipeline{
agent any

        stages{




			    stage('Build docker image'){
                             steps{
                                 script{
                                    sh 'docker build -t shaymarebhi/angularproject .'
                                 }
                             }
                         }




      stage('Docker login') {

                                         steps {
                                          sh 'echo "login Docker ...."'
                   	sh 'docker login -u shaymarebhi -p lafloufet123'
                               }  }
		 stage('Docker push') {

                 steps {
                      sh 'echo "Docker is pushing ...."'
                     	sh 'docker push shaymarebhi/angularproject'
                        }  }

     stage('Cleaning up') {
        steps {
            	sh 'docker login -u shaymarebhi -p lafloufet123'
               sh "docker rmi -f shaymarebhi/angularproject"

                                }
                                }

}
  }
